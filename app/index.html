<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Pixi parallax</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        /* body { background-color: #000000; }
         */
         canvas { background-color: #fff; }
    </style>
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
    <script src="main.js"></script> -->
</head>
<body onload="init();">
    <div align="center">
        <canvas id="game-canvas" width="512" height="384"></canvas>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.0.0/pixi.min.js"></script>
    <script>
        function init() {
            stage = new PIXI.Container();
            renderer = PIXI.autoDetectRenderer(
                512,
                384,
                {view:document.getElementById("game-canvas")}
            );

            renderer.backgroundColor = 0xffffff;

            var textureHills = PIXI.Texture.fromImage("/image/far_0.png");
            console.log(textureHills.baseTexture.realWidth);
            hills = new PIXI.extras.TilingSprite(textureHills, 1513, 100);
            
            hills.position.x = 0;
            hills.position.y = 128;
            hills.tilePosition.x = 0;
            hills.tilePosition.y = 0;
            stage.addChild(hills);

            var textureCloud = PIXI.Texture.fromImage("/image/far_1.png");
            clouds = new PIXI.extras.TilingSprite(textureCloud, 1513, 100);
            clouds.position.x = 0;
            clouds.position.y = 0;
            clouds.tilePosition.x = 0;
            clouds.tilePosition.y = 0;
            stage.addChild(clouds);
            
            requestAnimationFrame(update);
        }

        function update() {
            hills.tilePosition.x -= 0.2;
            clouds.tilePosition.x -= 0.4;

            renderer.render(stage);

            requestAnimationFrame(update);
        }
    </script>
</body>
</html>